import { Callout } from "@dev-spendesk/grapes";

import { Preview } from "@/components/preview/preview";
import {
  DemoRadioBox,
  DemoBooleanRadioBox,
  DemoVerticalRadioBox,
} from "./demo";

<Callout
  className="mt-m"
  variant="warning"
  title="The RadioBox only works within a RadioGroup"
>
  The RadioBox component should be wrapped inside a RadioGroup in order to work.
  Learn more about the RadioGroup [here](/docs/components/radio-group).
</Callout>

## Basic usage

<Preview>
  <DemoRadioBox />
</Preview>

```tsx
const [selectedValue, setSelectedValue] = useState<string | null>(null);

return (
  <RadioGroup
    name="cardType"
    value={selectedValue}
    onChange={(event) => {
      setSelectedValue(event?.target.value);
    }}
  >
    <RadioBox
      iconName="single-purchase-card"
      label="Single use"
      description="If you need to make a one-time payment"
      value="singleUse"
    />
    <RadioBox
      iconName="recurring-card"
      label="Recurring"
      description="If you want to manage your subscriptions"
      value="recurring"
    />
  </RadioGroup>
);
```

## Vertical

The layout of the RadioBox is different when the `direction` prop is set to `column` in the `RadioGroup` component: the radio button is displayed on the left.

<Preview>
  <DemoVerticalRadioBox />
</Preview>

```tsx
<RadioGroup direction="column" {...otherProps}>
  {options.map((option) => (
    <RadioBox {...props} />
  ))}
</RadioGroup>
```

## Without the description

The `description` prop is optional.

<Preview>
  <DemoBooleanRadioBox />
</Preview>

```tsx
<RadioGroup {...otherProps}>
  <RadioBox label="Yes" value="yes" />
  <RadioBox label="No" value="no" />
</RadioGroup>
```

## Accessibility

Adheres to the [radio role requirements](https://www.w3.org/TR/wai-aria-1.2/#radio).

### Name

The RadioBox is labelled by the props `label`.
Using [testing-library](https://testing-library.com/), you can fetch the following component

```tsx
<RadioBox value="daily" label="Daily" description="Once a day" />
```

by using the query:

```ts
getByRole("radio", { name: "Daily" });
```

### Description

The RadioBox is described by the props `description`.
Using [testing-library](https://testing-library.com/), you can fetch the following component

```tsx
<RadioBox value="daily" label="Daily" description="Once a day" />
```

by using the query:

```ts
getByRole("radio", { description: "Once a day" });
```
