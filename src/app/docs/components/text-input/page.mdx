import { Button, Icon, TextInput } from "@dev-spendesk/grapes";
import { Preview } from "@/lib/preview/preview";

import { DemoTextInput } from "./demo";

## Basic usage

<Preview>
  <TextInput className="w-[360px]" placeholder="Enter account number" />
</Preview>

```tsx sandbox
const Demo = () => {
  const [value, setValue] = useState("");

  return (
    <TextInput
      placeholder="Enter account number"
      value={value}
      onChange={(event) => {
        setValue(event.target.value);
      }}
    />
  );
};
```

## Variant

Use the `variant` prop to control the visual style of the TextInput. The TextInput comes with two visual styles: default (default) and magicGradient.

<Preview>
  <TextInput
    variant="magicGradient"
    className="w-[360px]"
    placeholder="Enter account number"
  />
</Preview>

```tsx
<TextInput variant="magicGradient" {...otherProps} />
```

## Addon

The `leftAddon` and `rightAddon` props allow you to add a component at the beginning or end of the TextInput.

<Preview>
  <TextInput
    className="w-[360px]"
    placeholder="Enter account number"
    leftAddon={
      <Icon
        color="var(--grapes-color-content-brand-default)"
        name="robot"
        className="ml-8"
      />
    }
  />
  <TextInput
    className="w-[360px]"
    placeholder="Enter account number"
    rightAddon={<Button variant="tertiaryNeutral" text="OK" />}
  />
</Preview>

```tsx
<>
  <TextInput
    leftAddon={
      <Icon
        color="var(--grapes-color-content-brand-default)"
        name="robot"
        className="ml-8"
      />
    }
    {...otherProps}
  />
  <TextInput
    rightAddon={<Button variant="tertiaryNeutral" text="OK" />}
    {...otherProps}
  />
</>
```

## Pattern validation

The `pattern` prop lets you specify a pattern that the input should follow. The [Constraint validation API](https://developer.mozilla.org/en-US/docs/Web/HTML/Constraint_validation) makes it possible to check that the input's value corresponds to the pattern.

You can try it out with the input below, which only accepts digits and up to 8 characters.

<Preview>
  <DemoTextInput />
</Preview>

```tsx sandbox
const Demo = () => {
  const [value, setValue] = useState("");
  return (
    <TextInput
      value={value}
      pattern="\d{0,8}" // [!code highlight]
      onChange={(event) => {
        if (event.target.checkValidity()) {
          setValue(event.target.value);
        }
      }}
    />
  );
};
```
