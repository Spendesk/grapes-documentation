import { DemoModal } from "./demo";
import { WithIllustration } from "./with-illustration";
import { WithLowerLevelConstructModal } from "./with-lower-level-construct";

## Import

Grapes exposes 7 components to help you create any dialog.

- `Modal`: The fastest and **recommended** way to create a Dialog.

The following are lower-level construct that is leveraged by `Modal` or `ModalSlideshow`:

- `ModalOverlay`: The dimmed overlay behind the modal dialog.
- `ModalContent`: The container for the modal content. It also contains the button that closes the modal.
- `ModalHeaderWithIcon`: The header that labels the modal dialog with a Grapes icon.
- `ModalHeaderWithIllustration`: The header that labels the modal dialog with an Illustration.
- `ModalBody`: The wrapper that contains the modal's main content.
- `ModalFooter`: The footer that contains the modal actions.

---

## Basic usage

<DemoModal />

```tsx sandbox
const Demo = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <Button text="Open the modal" onClick={() => setIsOpen(true)} />
      <Modal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="Adopt a smooth transition"
        iconName="swap"
        iconVariant="info"
        actions={[
          <Button
            key="cancel"
            variant="secondary"
            text="Cancel"
            onClick={() => setIsOpen(false)}
          />,
          <Button
            key="switch"
            variant="primary"
            text="Switch"
            onClick={() => setIsOpen(false)}
          />,
        ]}
      >
        We recommend closing first before switching.
      </Modal>
    </>
  );
};
```

## Use an illustration

Instead of an icon, use `illustration` prop to provide an illustration.

<WithIllustration />

```tsx sandbox
const Demo = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <Button text="Open the modal" onClick={() => setIsOpen(true)} />
      <Modal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="Adopt a smooth transition"
        illustration={<img src="/illustration-2.webp" alt="" />}
        actions={[
          <Button
            key="cancel"
            variant="secondary"
            text="Cancel"
            onClick={() => setIsOpen(false)}
          />,
          <Button
            key="switch"
            variant="primary"
            text="Switch"
            onClick={() => setIsOpen(false)}
          />,
        ]}
      >
        We recommend closing first before switching.
      </Modal>
    </>
  );
};
```

## Lower-level construct

At times, you may need to build complex flows using Modals, or for specific use cases, you might require a highly customized Modal header or Modal footer.
In such scenarios, Grapes provides a set of lower-level constructs, allowing you to build any Modal while adhering to the design-system rules.

<WithLowerLevelConstructModal />

```tsx sandbox
const Demo = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <Button text="Open the modal" onClick={() => setIsOpen(true)} />
      <ModalOverlay isOpen={isOpen}>
        <ModalContent
          aria-labelledby="grapes-id"
          onClose={() => setIsOpen(false)}
        >
          <ModalHeaderWithIcon
            title="Adopt a smooth transition"
            iconName="swap"
            iconVariant="info"
            titleId="grapes-id"
          />
          <ModalBody>We recommend closing first before switching.</ModalBody>
          <ModalFooter>
            <Button
              key="cancel"
              variant="secondary"
              text="Cancel"
              onClick={() => setIsOpen(false)}
            />
            <Button
              key="switch"
              variant="primary"
              text="Switch"
              onClick={() => setIsOpen(false)}
            />
          </ModalFooter>
        </ModalContent>
      </ModalOverlay>
    </>
  );
};
```

---

## Accessibility

Adheres to the `dialog` [role requirements](https://www.w3.org/TR/wai-aria-1.2/#dialog).
