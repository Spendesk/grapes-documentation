import { Preview } from "@/lib/preview/preview";
import { DemoSelect } from "./demo";

## Import

- `Select`: The select component
- `DropdownItem`: A helper component designed to represent a complex item inside a list.

---

## Basic usage

<Preview>
  <DemoSelect />
</Preview>

```tsx
type Option = { key: string; label: string };

const costCenters: (Option & { owner: string })[] = [
  {
    key: "marketing",
    label: "Marketing",
    owner: "Michael Murphy",
  },
  // ...
];

const Demo = () => {
  const [selectedOption, setSelectedOption] = useState<Option>();

  return (
    <Select
      fit="parent"
      placeholder="Select a cost center"
      options={costCenters}
      value={selectedOption}
      onSelect={setSelectedOption}
    />
  );
};
```

## Placement

Use the placement prop to move the list of options above or below the Select.

<Preview>
  <DemoSelect placement="bottom-start" placeholder="bottom-start placement" />
  <DemoSelect placement="top-start" placeholder="top-start placement" />
</Preview>

```tsx
<>
  <Select placement="bottom-start" {...otherProps} />
  <Select placement="top-start" {...otherProps} />
</>
```

## Customization

### Max height

The `dropdownContentMaxHeight` prop is used to define a maximum height for the select's dropdown content. It defaults to 152px.

:::info{title="Visibility behavior"}
To indicate that the dropdown is scrollable, please ensure the last visible item is partially hidden.
For example, the default value of 152px result in the fourth item being cut off halfway, signaling to the user that there are more items to scroll through.
:::

<Preview>
  <DemoSelect withMaxHeight />
</Preview>

```tsx
<Select dropdownContentMaxHeight="232px" {...otherProps} />
```

### Customized option

Use the `renderOption` prop to customize how options are rendered.

:::info{title="Visibility behavior"}
If you customize the rendering of options, which likely involves changing the default height of a dropdown item (40px), you should also use the dropdownContentMaxHeight prop to adjust the default height of the DropdownContent accordingly.
:::

<Preview>
  <DemoSelect withRenderOption />
</Preview>

```tsx
<Select
  renderOption={(option: CostCenter, optionState) => (
    <DropdownItem
      label={`${option.label} (${option.owner})`}
      {...optionState}
    />
  )}
  {...otherProps}
/>
```
