import { Icon } from "@dev-spendesk/grapes";
import { Preview } from "@/lib/preview/preview";
import { Demo, DemoWithMultipleCurrencies } from "./demo";

## Basic Usage

<Preview>
  <Demo />
</Preview>

```tsx
const Demo = () => {
  const [selectedValue, setSelectedValue] = useState<number | null>(null);

  return (
    <AmountInput
      currency={{ key: "EUR", label: "â‚¬ - Euro" }}
      value={selectedValue}
      onChange={(_, newValue) => {
        setSelectedValue(newValue);
      }}
    />
  );
};
```

## Variant

Use the `inputVariant` prop to control the visual style of the Autocomplete.
The Autocomplete comes with two visual styles: default (default) and magicGradient.

<Preview>
  <Demo variant="magicGradient" />
</Preview>

```tsx
<AmountInput variant="magicGradient" {...otherProps} />
```

## Multiple currencies

The AmountInput supports multiple currencies using `currencies` prop.
`onSelectCurrency` also needs to be provided to catch the event when the user updates the currency.
If both are provided, a dropdown will be displayed with the predefined currencies.

<Preview>
  <DemoWithMultipleCurrencies />
</Preview>

```tsx
<AmountInput
  currencies={currencies}
  onSelectCurrency={(selectedCurrency) => {
    setCurrency(selectedCurrency);
  }}
  currency={currentCurrency}
  {...otherProps}
/>
```

## Allow negative value

By default, the AmountInput doesn't allow negative values. Use `hasNegativeValueAllowed` to allow negative values.

<Preview>
  <Demo hasNegativeValueAllowed defaultValue={-1234} />
</Preview>

```tsx
<AmountInput hasNegativeValueAllowed {...otherProps} />
```

## Customize input

Use the `leftAddon` prop to add a ReactNode on the left side of the input.

<Preview>
  <Demo
    leftAddon={
      <div className="ml-8 mt-4">
        <Icon name="robot" />
      </div>
    }
  />
</Preview>

```tsx
<AmountInput
  leftAddon={
    <div className="ml-8 mt-4">
      <Icon name="robot" />
    </div>
  }
  {...otherProps}
/>
```
