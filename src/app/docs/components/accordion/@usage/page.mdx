import { Preview } from "@/components/preview/preview";
import { DemoAccordion } from "./demo";

## Basic usage

The Accordion is highly customizable and has few styles from the start.

<Preview className="body-m">
  <DemoAccordion />
</Preview>

```tsx
const accordionItems = [
  "Invite team members",
  "Make a first payment",
  "Order physical cards",
];

function Demo() {
  return (
    <Accordion>
      {accordionItems.map((accordionItem) => (
        <AccordionItem
          key={accordionItem}
          renderHeader={() => <div>{accordionItem}</div>}
        >
          <div className="p-m pt-xs text-neutral-dark">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec
            lectus sed sem porttitor viverra. Vestibulum magna leo.
          </div>
        </AccordionItem>
      ))}
    </Accordion>
  );
}
```

## Multiple open items

The `withMultipleOpenItems` props allows the user to expand multiple accordion items together.

<Preview className="body-m">
  <DemoAccordion withMultipleOpenItems />
</Preview>

```tsx
<Accordion allowMultipleOpenItems {...otherProps}>
  ...
</Accordion>
```

## Default expanded items

The `defaultAccordionItemIndexes` lets you select which items should be expanded initially.

<Preview className="body-m">
  <DemoAccordion withDefaultOpenItems />
</Preview>

```tsx
<Accordion defaultAccordionItemIndexes={new Set([0, 2])} {...otherProps}>
  ...
</Accordion>
```

## Open / Close accordion

The `AccordionHandle` lets you open and close the accordion items programmatically.

<Preview className="body-m">
  <DemoAccordion withOpenClose />
</Preview>

```tsx
const accordionRef = useRef<AccordionHandle | null>(null);

return (
  <>
    <Button
      variant="primary"
      text="Open accordion"
      onClick={() => {
        accordionRef.current?.openAccordion(new Set([0, 1, 2]));
      }}
    />
    <Button
      variant="primary"
      text="Close accordion"
      onClick={() => {
        accordionRef.current?.closeAccordion();
      }}
    />
    <Accordion ref={accordionRef} {...otherProps}>
      ...
    </Accordion>
  </>
);
```
