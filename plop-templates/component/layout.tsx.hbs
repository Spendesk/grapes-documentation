"use client";

import { useQueryParamsTab } from "@/lib/useQueryParamsTab/useQueryParamsTab";
import { Tab, TabList, TabPanel, TabPanels, Tabs } from "@dev-spendesk/grapes";

const TABS = ["usage", "props"{{#if accessibilityTab}}, "accessibility"{{/if}}];
export default function Layout(props: {
  children: React.ReactNode;
  props: React.ReactNode;
  usage: React.ReactNode;
  {{#if accessibilityTab}}
  accessibility: React.ReactNode;
  {{/if}}
}) {
  const [defaultTabIndex, setQueryParams] = useQueryParamsTab(
    TABS,
    "usage"
  );

  return (
    <>
      {props.children}
      <Tabs onChange={setQueryParams} defaultTabIndex={defaultTabIndex}>
        <TabList className="docs-tabs">
          <Tab>Usage</Tab>
          <Tab>Props</Tab>
          {{#if accessibilityTab}}
          <Tab>Accessibility</Tab>
          {{/if}}
        </TabList>
        <TabPanels>
          <TabPanel>{props.usage}</TabPanel>
          <TabPanel>{props.props}</TabPanel>
          {{#if accessibilityTab}}
          <TabPanel>{props.accessibility}</TabPanel>
          {{/if}}
        </TabPanels>
      </Tabs>
    </>
  );
}
